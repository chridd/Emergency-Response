<html>
<head>
    <link rel="stylesheet" type="text/css" href="web/css/panoramic.css">
    <script type="text/javascript" src="web/js/jquery.js"></script>
</head>
<body>

    <div id="wrapper">
        <div id="pano-container">
            <div class="piece" id="img1"></div>
            <div class="piece" id="img2"></div>
            <div class="piece" id="img3"></div>
        </div>
    </div>


    <script type="text/javascript">
        $(function() {
            var curr = 1;
            var animating = false;

            setInterval(function() {
                if (animating) {return;}
                animating = true;
                $('#pano-container').animate({
                    'left' : -1240
                }, function(){
                    $('#pano-container').css('left', 0);
                    $('#pano-container').find('div.piece:first-child').remove();

                    if (curr == 1) newCurr = 4;
                    else if (curr == 2) newCurr = 1;
                    else if (curr == 3) newCurr = 2;  
                    else if (curr == 4) newCurr = 3;
                    $('#pano-container').append('<div class="piece" id="img'+newCurr+'"></div>');
                    curr = (curr + 1)%4;
                    if (curr == 0) curr = 1;
                    animating = false;
                })
            }, 2000)

            // $('.piece').on('click', function(){
            //     if (animating) {return;}
            //     animating = true;
            //     $('#pano-container').animate({
            //         'left' : -1240
            //     }, function(){
            //         $('#pano-container').css('left', 0);
            //         $('#pano-container').find('div.piece:first-child').remove();

            //         if (curr == 1) newCurr = 4;
            //         else if (curr == 2) newCurr = 1;
            //         else if (curr == 3) newCurr = 2;  
            //         else if (curr == 4) newCurr = 3;
            //         $('#pano-container').append('<div class="piece" id="img'+newCurr+'"></div>');
            //         curr = (curr + 1)%4;
            //         if (curr == 0) curr = 1;
            //         animating = false;
            //     })
            // });

        });
        
    </script>
</body>
</html>