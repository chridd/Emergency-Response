TestDef = {
    'name': 'Test Scenario',
    '_floors': {
        'First Floor': {
            'z': 0,
            '_rooms': {
                'room000': {
                    'id': 'classroom000',
                    'x': 0,
                    'y': 0,
                    '_triggers' : ['dolphinFound'],
                    '_walls': {
                        'e': {
                            'name': 'EClassroom000',
                            'image': 'R000-east.jpg',
                            'destination': {
                                'x': 1
                            }
                        },
                        'w': {
                            'name': 'WClassroom000',
                            'image': 'R000-west.jpg',
                            '_props' : {
                                'dolphin' : {
                                    'image': 'dolphin.png',
                                    'hoverImage' : 'dolphinhover.png',
                                    'top' : 200,
                                    'left' : 200,
                                    'height': 256,
                                    'width' : 499,
                                }
                            }
                        },
                        'n': {
                            'name': 'NClassroom000',
                            'image': 'R000-north.jpg',
                        },
                        's': {
                            'name': 'SClassroom000',
                            'image': 'R000-south.jpg'
                        }
                    }
                },
                'room020': {
                    'id': 'classroom020',
                    'x': 0,
                    'y': 2,
                    '_walls': {
                        'e': {
                            'name': 'EClassroom020',
                            'image': 'R020-east.jpg',
                            'destination': {
                                'x': 1
                            }
                        },
                        'w': {
                            'name': 'WClassroom020',
                            'image': 'R020-west.jpg'
                        },
                        'n': {
                            'name': 'NClassroom020',
                            'image': 'R020-north.jpg',
                        },
                        's': {
                            'name': 'SClassroom020',
                            'image': 'R020-south.jpg'
                        }
                    }
                },
                'room030': {
                    'id': 'classroom030',
                    'x': 0,
                    'y': 3,
                    '_triggers': ['gotToClass'],
                    '_walls': {
                        'e': {
                            'name': 'EClassroom030',
                            'image': 'R030-east.jpg',
                            'destination': {
                                'x': 1
                            }
                        },
                        'w': {
                            'name': 'WClassroom030',
                            'image': 'R030-west.jpg'
                        },
                        'n': {
                            'name': 'NClassroom030',
                            'image': 'R030-north.jpg',
                        },
                        's': {
                            'name': 'SClassroom030',
                            'image': 'R030-south.jpg'
                        }
                    }
                },
                'room040': {
                    'id': 'hall040',
                    'x': 0,
                    'y': 4,
                    '_walls': {
                        'e': {
                            'name': 'EHall040',
                            'image': 'R040-east.jpg',
                            'destination': {
                                'x': 1
                            }
                        },
                        'w': {
                            'name': 'WHall040',
                            'image': 'R040-west.jpg'
                        },
                        'n': {
                            'name': 'NHall040',
                            'image': 'R040-north.jpg',
                        },
                        's': {
                            'name': 'SHall040',
                            'image': 'R040-south.jpg'
                        }
                    }
                },
                'room100': {
                    'id': 'hall100',
                    'x': 1,
                    'y': 0,
                    '_walls': {
                        'e': {
                            'name': 'EHall100',
                            'image': 'R100-east.jpg',
                            'destination': {
                                'x': 2
                            },
                            '_props': {
                                'prof-bell': {
                                    'name': 'prof-bell',
                                    'image': 'prof_bell.png',
                                    'width': 50,
                                    'height': 89,
                                    'left': 480,
                                    'top': 285
                                },
                                'prof-bell-on-fire': {
                                    'name': 'prof-bell-on-fire',
                                    'image': 'prof_bell_on_fire.png',
                                    'width': 50,
                                    'height': 89,
                                    'left': 480,
                                    'top': 285
                                }
                            }
                        },
                        'w': {
                            'name': 'WHall100',
                            'image': 'R100-west.jpg',
                            'destination': {
                                'x': 0
                            }
                        },
                        'n': {
                            'name': 'NHall100',
                            'image': 'R100-north.jpg',
                            'destination': {
                                'y': 1
                            },
                            '_props': {
                                'Info-TV': {
                                    'name': 'Info-TV',
                                    'image': 'info-tv-skew-left.png',
                                    'width': 150,
                                    'height': 104,
                                    'left': 650,
                                    'top': 190,
                                }
                            }
                        },
                        's': {
                            'name': 'SHall100',
                            'image': 'R100-south.jpg'
                        }
                    }
                },
                'room110': {
                    'id': 'hall110',
                    'x': 1,
                    'y': 1,
                    '_walls': {
                        'e': {
                            'name': 'EHall110',
                            'image': 'R110-east.jpg',
                            '_props': {
                                'Info-TV': {
                                    'name': 'Info-TV',
                                    'image': 'info-tv.png',
                                    'width': 370,
                                    'height': 217,
                                    'left': 200,
                                    'top': 50,
                                    'action': 'showConversation',
                                    'actionVariables': {
                                        'conversationName': 'Info TV'
                                    }
                                }
                            }
                        },
                        'w': {
                            'name': 'WHall110',
                            'image': 'R110-west.jpg'
                        },
                        'n': {
                            'name': 'NHall110',
                            'image': 'R110-north.jpg',
                            'destination': {
                                'y': 2
                            }
                        },
                        's': {
                            'name': 'SHall110',
                            'image': 'R110-south.jpg',
                            'destination': {
                                'y': 0
                            }
                        }
                    }
                },
                'room120': {
                    'id': 'hall120',
                    'x': 1,
                    'y': 2,
                    '_walls': {
                        'e': {
                            'name': 'EHall120',
                            'image': 'R120-east.jpg'
                        },
                        'w': {
                            'name': 'WHall120',
                            'image': 'R120-west.jpg',
                            'destination': {
                                'x': 0
                            }
                        },
                        'n': {
                            'name': 'NHall120',
                            'image': 'R120-north.jpg',
                            'destination': {
                                'y': 3
                            }
                        },
                        's': {
                            'name': 'SHall120',
                            'image': 'R120-south.jpg',
                            'destination': {
                                'y': 1
                            },
                            '_props': {
                                'Info-TV': {
                                    'name': 'Info-TV',
                                    'image': 'info-tv-skew-right.png',
                                    'width': 150,
                                    'height': 104,
                                    'left': 320,
                                    'top': 190,
                                },
                                'fire2': {
                                    'name': 'fire2',
                                    'image': 'fire.png',
                                    'width': 800,
                                    'height': 400,
                                    'left': 100,
                                    'top': 100,
                                    'action': 'showConversation',
                                    'actionVariables': {
                                        'conversationName': 'Fire 2'
                                    },
                                    'barrier': true
                                }
                            }
                        }
                    }
                },
                'room130': {
                    'id': 'hall130',
                    'x': 1, 
                    'y': 3,
                    '_walls': {
                        'e': {
                            'name': 'NHall130',
                            'image': 'R130-east.jpg',
                            'destination': {
                                'x': 2
                            }
                        },
                        'w': {
                            'name': 'SHall130',
                            'image': 'R130-west.jpg',
                            'destination': {
                                'x': 0
                            }
                        },
                        'n': {
                            'name': 'WHall130',
                            'image': 'R130-north.jpg',
                            'destination': {
                                'y': 4
                            }
                        },
                        's': {
                            'name': 'EHall130',
                            'image': 'R130-south.jpg',
                            'destination': {
                                'y': 2
                            }
                        }
                    }
                },
                'room140': {
                    'id': 'hall140',
                    'x': 1,
                    'y': 4,
                    '_triggers' : ['sampleObjective'],
                    '_walls': {
                        'e': {
                            'name': 'EHall140',
                            'image': 'R140-east.jpg',
                            'destination': {
                                'x': 2
                            }
                        },
                        'w': {
                            'name': 'WHall140',
                            'image': 'R140-west.jpg',
                            'destination': {
                                'x': 0
                            }
                        },
                        'n': {
                            'name': 'NHall140',
                            'image': 'R140-north.jpg',
                            'destination': {
                                'y': 5
                            }
                        },
                        's': {
                            'name': 'SHall140',
                            'image': 'R140-south.jpg',
                            'destination': {
                                'y': 3
                            }
                        }
                    }
                },
                'room150': {
                    'id': 'hall150',
                    'x': 1,
                    'y': 5,
                    '_walls': {
                        'e': {
                            'name': 'EHall150',
                            'image': 'R150-east.jpg'
                        },
                        'w': {
                            'name': 'WHall150',
                            'image': 'R150-west.jpg'
                        },
                        'n': {
                            'name': 'NHall150',
                            'image': 'R150-north.jpg'
                        },
                        's': {
                            'name': 'SHall150',
                            'image': 'R150-south.jpg',
                            'destination': {
                                'y': 4
                            }
                        }
                    }
                },
                'room200': {
                    'id': 'hall200',
                    'x': 2,
                    'y': 0,
                    '_walls': {
                        'e': {
                            'name': 'EHall200',
                            'image': 'R200-east.jpg',
                            'destination': {
                                'x': 3
                            },
                            '_props': {
                                'prof-bell': {
                                    'name': 'prof-bell',
                                    'image': 'prof_bell.png',
                                    'width': 200,
                                    'height': 354,
                                    'left': 100,
                                    'top': 257,
                                    'action': 'showConversation',
                                    'actionVariables': {
                                        'conversationName': 'Professor Bell'
                                    }
                                },
                                'prof-bell-on-fire': {
                                    'name': 'prof-bell-on-fire',
                                    'image': 'prof_bell_on_fire.png',
                                    'width': 200,
                                    'height': 354,
                                    'left': 100,
                                    'top': 257,
                                    'action': 'showConversation',
                                    'actionVariables': {
                                        'conversationName': 'Professor Bell On Fire'
                                    }
                                }
                            }
                        },
                        'w': {
                            'name': 'WHall200',
                            'image': 'R200-west.jpg',
                            'destination': {
                                'x': 1
                            }
                        },
                        'n': {
                            'name': 'NHall200',
                            'image': 'R200-north.jpg',
                            'destination': {
                                'y': 1
                            },
                            '_props': {
                                'prof-bell': {
                                    'name': 'prof-bell',
                                    'image': 'prof_bell.png',
                                    'width': 200,
                                    'height': 354,
                                    'left': 900,
                                    'top': 257,
                                    'action': 'showConversation',
                                    'actionVariables': {
                                        'conversationName': 'Professor Bell'
                                    },
                                },
                                'prof-bell-on-fire': {
                                    'name': 'prof-bell-on-fire',
                                    'image': 'prof_bell_on_fire.png',
                                    'width': 200,
                                    'height': 354,
                                    'left': 900,
                                    'top': 257,
                                    'action': 'showConversation',
                                    'actionVariables': {
                                        'conversationName': 'Professor Bell On Fire'
                                    }
                                },
                                'Fire-Extinguisher': {
                                    'name': 'Fire-Extinguisher',
                                    'image': 'fire-extinguisher.png',
                                    'width': 20,
                                    'height': 20,
                                    'left': 450,
                                    'top': 300
                                }
                            }
                        },
                        's': {
                            'name': 'SHall200',
                            'image': 'R200-south.jpg'
                        }
                    }
                },
                'room210': {
                    'id': 'hall210',
                    'x': 2,
                    'y': 1,
                    '_walls': {
                        'e': {
                            'name': 'EHall210',
                            'image': 'R210-east.jpg',
                        },
                        'w': {
                            'name': 'WHall210',
                            'image': 'R210-west.jpg',
                            '_props': {
                                'Fire-Extinguisher': {
                                    'name': 'Fire-Extinguisher',
                                    'image': 'fire-extinguisher.png',
                                    'width': 190,
                                    'height': 190,
                                    'left': 800,
                                    'top': 300,
                                    'action': 'showConversation',
                                    'actionVariables': {
                                        'conversationName': 'Fire Extinguisher'
                                    }
                                }
                            }
                        },
                        'n': {
                            'name': 'NHall210',
                            'image': 'R210-north.jpg',
                            'destination': {
                                'y': 2
                            },
                            '_props': {
                                'Fire-Extinguisher': {
                                    'name': 'Fire-Extinguisher',
                                    'image': 'fire-extinguisher.png',
                                    'width': 190,
                                    'height': 190,
                                    'left': 100,
                                    'top': 300,
                                    'action': 'showConversation',
                                    'actionVariables': {
                                        'conversationName': 'Fire Extinguisher'
                                    }
                                }
                            }
                        },
                        's': {
                            'name': 'SHall210',
                            'image': 'R210-south.jpg',
                            'destination': {
                                'y': 0
                            },
                            '_props': {
                                'prof-bell': {
                                    'name': 'prof-bell',
                                    'image': 'prof_bell.png',
                                    'width': 150,
                                    'height': 266,
                                    'left': 280,
                                    'top': 315
                                },
                                'prof-bell-on-fire': {
                                    'name': 'prof-bell-on-fire',
                                    'image': 'prof_bell_on_fire.png',
                                    'width': 150,
                                    'height': 266,
                                    'left': 280,
                                    'top': 315,
                                }
                            }
                        }
                    }
                },
                'room220': {
                    'id': 'stairs220',
                    'x': 2,
                    'y': 2,
                    '_walls': {
                        'e': {
                            'name': 'EStairs220',
                            'image': 'R220-east.jpg'
                        },
                        'w': {
                            'name': 'WStairs220',
                            'image': 'R220-west.jpg'
                        },
                        'n': {
                            'name': 'NStairs220',
                            'image': 'R220-north.jpg'
                        },
                        's': {
                            'name': 'SStairs220',
                            'image': 'R220-south.jpg',
                            'destination': {
                                'y': 1
                            }
                        }
                    }
                },
                'room230': {
                    'id': 'room230',
                    'x': 2,
                    'y': 3,
                    '_walls': {
                        'e': {
                            'name': 'ERoom230',
                            'image': 'R230-east.jpg',
                            'destination': {
                                'x': 3
                            }
                        },
                        'w': {
                            'name': 'WRoom230',
                            'image': 'R230-west.jpg',
                            'destination': {
                                'x': 1
                            }
                        },
                        'n': {
                            'name': 'NRoom230',
                            'image': 'R230-north.jpg'
                        },
                        's': {
                            'name': 'SRoom230',
                            'image': 'R230-south.jpg'
                        }
                    }
                },
                'room240': {
                    'id': 'hall240', 
                    'x': 2, 
                    'y': 4,
                    '_walls': {
                        'e': {
                            'name': 'EHall240', 
                            'image': 'R240-east.jpg',
                            'destination': {
                                'x': 3
                            }
                        },
                        'w': {
                            'name': 'WHall240',
                            'image': 'R240-west.jpg',
                            'destination': {
                                'x': 1
                            }
                        },
                        'n': {
                            'name': 'NHall240',   
                            'image': 'R240-north.jpg'
                        },
                        's': {
                            'name': 'SHall240', 
                            'image': 'R240-south.jpg'
                        }
                    }
                },
                'room300': {
                    'id': 'hall300',
                    'x': 3,
                    'y': 0,
                    '_walls': {
                        'e': {
                            'name': 'EHall300',
                            'image': 'R300-east.jpg',
                            'destination': {
                                'x': 4
                            }
                        },
                        'w': {
                            'name': 'WHall300',
                            'image': 'R300-west.jpg',
                            'destination': {
                                'x': 2
                            },
                            '_props': {
                                'prof-bell': {
                                    'name': 'prof-bell',
                                    'image': 'prof_bell.png',
                                    'width': 75,
                                    'height': 133,
                                    'left': 630,
                                    'top': 315
                                },
                                'prof-bell-on-fire': {
                                    'name': 'prof-bell-on-fire',
                                    'image': 'prof_bell_on_fire.png',
                                    'width': 75,
                                    'height': 133,
                                    'left': 630,
                                    'top': 315
                                }
                            }
                        },
                        'n': {
                            'name': 'NHall300',
                            'image': 'R300-north.jpg',
                            'destination': {
                                'y': 1
                            }
                        },
                        's': {
                            'name': 'SHall300',
                            'image': 'R300-south.jpg'
                        }
                    }
                },
                'room310': {
                    'id': 'hall310',
                    'x': 3,
                    'y': 1,
                    '_walls': {
                        'e': {
                            'name': 'EHall310',
                            'image': 'R310-east.jpg',
                        },
                        'w': {
                            'name': 'WHall310',
                            'image': 'R310-west.jpg'
                        },
                        'n': {
                            'name': 'NHall310',
                            'image': 'R310-north.jpg',
                            '_props': {
                                'fire1': {
                                    'name': 'fire1',
                                    'image': 'fire.png',
                                    'width': 800,
                                    'height': 400,
                                    'left': 100,
                                    'top': 100,
                                    'action': 'showConversation',
                                    'actionVariables': {
                                        'conversationName': 'Fire'
                                    },
                                    'barrier': true
                                }
                            },
                            'destination': {
                                'y': 2
                            }
                        },
                        's': {
                            'name': 'SHall310',
                            'image': 'R310-south.jpg',
                            'destination': {
                                'y': 0
                            }
                        }
                    }
                },
                'room320': {
                    'id': 'hall320',
                    'x': 3,
                    'y': 2,
                    '_walls': {
                        'e': {
                            'name': 'EHall320',
                            'image': 'R320-east.jpg',
                            'destination': {
                                'x': 4
                            }
                        },
                        'w': {
                            'name': 'WHall320',
                            'image': 'R320-west.jpg'
                        },
                        'n': {
                            'name': 'NHall320',
                            'image': 'R320-north.jpg',
                            'destination': {
                                'y': 3
                            }
                        },
                        's': {
                            'name': 'SHall320',
                            'image': 'R320-south.jpg',
                            '_props': {
                                'fire1': {
                                    'name': 'fire1',
                                    'image': 'fire.png',
                                    'width': 800,
                                    'height': 400,
                                    'left': 100,
                                    'top': 100,
                                    'action': 'showConversation',
                                    'actionVariables': {
                                        'conversationName': 'Fire'
                                    },
                                    'barrier': true
                                }
                            },
                            'destination': {
                                'y': 1
                            }
                        }
                    }
                },
                'room330': {
                    'id': 'hall330',
                    'x': 3,
                    'y': 3,
                    '_walls': {
                        'e': {
                            'name': 'EHall330',
                            'image': 'R330-east.jpg'
                        },
                        'w': {
                            'name': 'WHall330',
                            'image': 'R330-west.jpg',
                            'destination': {
                                'x': 2
                            }
                        },
                        'n': {
                            'name': 'NHall330',
                            'image': 'R330-north.jpg',
                            'destination': {
                                'y': 4
                            }
                        },
                        's': {
                            'name': 'SHall330',
                            'image': 'R330-south.jpg',
                            'destination': {
                                'y': 2
                            }
                        }
                    }
                },
                'room340': {
                    'id': 'hall340',
                    'x': 3,
                    'y': 4,
                    '_walls': {
                        'e': {
                            'name': 'EHall340',
                            'image': 'R340-east.jpg',
                            'destination': {
                                'x': 4
                            }
                        },
                        'w': {
                            'name': 'WHall340',
                            'image': 'R340-west.jpg',
                            'destination': {
                                'x': 2
                            }
                        },
                        'n': {
                            'name': 'NHall340',
                            'image': 'R340-north.jpg',
                            'destination': {
                                'y': 5
                            }
                        },
                        's': {
                            'name': 'SHall340',
                            'image': 'R340-south.jpg',
                            'destination': {
                                'y': 3
                            }
                        }
                    }
                },
                'room350': {
                    'id': 'restroom350',
                    'x': 3,
                    'y': 5,
                    '_walls': {
                        'e': {
                            'name': 'ERestroom350',
                            'image': 'R350-east.jpg'
                        },
                        'w': {
                            'name': 'WRestroom350',
                            'image': 'R350-west.jpg'
                        },
                        'n': {
                            'name': 'NRestroom350',
                            'image': 'R350-north.jpg'
                        },
                        's': {
                            'name': 'SRestroom350',
                            'image': 'R350-south.jpg',
                            'destination': {
                                'y': 4
                            }
                        }
                    }
                },
                'room400': {
                    'id': 'hall400',
                    'x': 4,
                    'y': 0,
                    '_walls': {
                        'e': {
                            'name': 'EHall400',
                            'image': 'R400-east.jpg',
                        },
                        'w': {
                            'name': 'WHall400',
                            'image': 'R400-west.jpg',
                            'destination': {
                                'x': 3
                            }
                        },
                        'n': {
                            'name': 'NHall400',
                            'image': 'R400-north.jpg',
                            'destination': {
                                'y': 1
                            }
                        },
                        's': {
                            'name': 'SHall400',
                            'image': 'R400-south.jpg'
                        }
                    }
                },
                'room410': {
                    'id': 'hall410',
                    'x': 4,
                    'y': 1,
                    '_walls': {
                        'e': {
                            'name': 'EHall410',
                            'image': 'R410-east.jpg',
                        },
                        'w': {
                            'name': 'WHall410',
                            'image': 'R410-west.jpg'
                        },
                        'n': {
                            'name': 'NHall410',
                            'image': 'R410-north.jpg',
                            'destination': {
                                'y': 2
                            }
                        },
                        's': {
                            'name': 'SHall410',
                            'image': 'R410-south.jpg',
                            'destination': {
                                'y': 0
                            }
                        }
                    }
                },
                'room420': {
                    'id': 'hall420',
                    'x': 4,
                    'y': 2,
                    '_walls': {
                        'e': {
                            'name': 'EHall420',
                            'image': 'R420-east.jpg'
                        },
                        'w': {
                            'name': 'WHall420',
                            'image': 'R420-west.jpg',
                            'destination': {
                                'x': 3
                            }
                        },
                        'n': {
                            'name': 'NHall420',
                            'image': 'R420-north.jpg'
                        },
                        's': {
                            'name': 'SHall420',
                            'image': 'R420-south.jpg',
                            'destination': {
                                'y': 1
                            }
                        }
                    }
                },
                'room430': {
                    'id': 'hall430',
                    'x': 4,
                    'y': 3,
                    '_walls': {
                        'e': {
                            'name': 'EHall430',
                            'image': 'R430-east.jpg'
                        },
                        'w': {
                            'name': 'WHall430',
                            'image': 'R430-west.jpg'
                        },
                        'n': {
                            'name': 'NHall430',
                            'image': 'R430-north.jpg',
                            'destination': {
                                'y': 4
                            }
                        },
                        's': {
                            'name': 'SHall430',
                            'image': 'R430-south.jpg'
                        }
                    }
                },
                'room440': {
                    'id': 'hall440',
                    'x': 4,
                    'y': 4,
                    '_walls': {
                        'e': {
                            'name': 'EHall440',
                            'image': 'R440-east.jpg',
                            'destination': {
                                'x': 5
                            }
                        },
                        'w': {
                            'name': 'WHall440',
                            'image': 'R440-west.jpg',
                            'destination': {
                                'x': 3
                            }
                        },
                        'n': {
                            'name': 'NHall440',
                            'image': 'R440-north.jpg'
                        },
                        's': {
                            'name': 'SHall440',
                            'image': 'R440-south.jpg',
                            'destination': {
                                'y': 3
                            }
                        }
                    }
                },
                'room540': {
                    'id': 'hall540',
                    'x': 5,
                    'y': 4,
                    '_walls': {
                        'e': {
                            'name': 'EHall540',
                            'image': 'R540-east.jpg',
                        },
                        'w': {
                            'name': 'WHall540',
                            'image': 'R540-west.jpg',
                            'destination': {
                                'x': 4
                            }
                        },
                        'n': {
                            'name': 'NHall540',
                            'image': 'R540-north.jpg',
                        },
                        's': {
                            'name': 'SHall540',
                            'image': 'R540-south.jpg'
                        }
                    }
                }
            }
        }
    },
    '_conversations': {
        'Fire': {
            '1': {
                'message': 'Oh no there is a fire in the way!',
                'replies': {
                    'Extinguish': '3'
                }
            },
            '3': {
                'triggers': ['useFireExtinguisher'],
                'requires': {'has': ['Fire Extinguisher']}
                // or use 'check': [{'has': ['Fire Extinguisher'], 'goto': '2'}]
            }
        },
        'Fire 2': {
            '1': {
                'message': 'Oh no there is a fire in the way!',
                'replies': {
                    'Extinguish': '3'
                }
            },
            '3': {
                'triggers': ['useFireExtinguisher2'],
                'requires': {'has': ['Fire Extinguisher']}
                // or use 'check': [{'has': ['Fire Extinguisher'], 'goto': '2'}]
            }
        },
        'Fire Extinguisher': {
            '1': {
                'message': 'This is a fire extinguisher.',
                'replies': {
                    'Pick it up': '2'
                }
            },
            '2': {
                'triggers': ['takeFireExtinguisher']
            }
        },
        'Info TV': {
            '1': {
                'message': 'What should you do in emergency situations? Stay tuned!',
                'replies': {
                    '(keep watching)': 2,
                    '(walk away)': 0
                }
            },
            '2': {
                'message': 'When there is an active shooter in the building what are your three options?',
                'replies': {
                    '(keep watching)': 3,
                    '(walk away)': 0
                }
            },
            '3': {
                'message': 'The first is run. Encourage others to do so as well.',
                'replies': {
                    '(keep watching)': 4,
                    '(walk away)': 0
                }
            },
            '4': {
                'message': 'The second is hide. Remember to look for protective cover, not just concealment.',
                'replies': {
                    '(keep watching)': 5,
                    '(walk away)': 0
                }
            },
            '5': {
                'message': 'The third is fight. Be violent and aggressive. Commit to this decision. Get help from others and attack as a group.',
                'replies': {
                    '(keep watching)': 6,
                    '(walk away)': 0
                }
            },
            '6': {
                'message': 'Run. Hide. Fight!',
                'replies': {
                    'I am prepared!': 0
                }
            }
        },
        'Professor Bell': {
            '1': {
                'triggers': ['fireAppears'],
                'check': [{'objectivesCompleted': ['takeTheQuiz'], 'goto': '10'}],
                'message': 'Good morning! Class is starting soon!.',
                'replies': {
                    'Where is the fire extinguisher': 5,
                    'I\'ll go sit down': 2,
                    'I\'ll skip the lecture and take the quiz': 3,
                    'I\'ve already taken the quiz': 0,
                    'Don\'t play with those matches...': 4,
                }
            },
            '2': {
                'triggers': ['getToClass'],
                'requires': {'triggersEnabled':['getToClass']}
            },
            '3': {
                'triggers': ['skipToTheQuiz'],
                'requires': {'triggersEnabled':['skipToTheQuiz']}
            },
            '4': {
                'triggers': ['lightProfOnFire']
            },
            '5': {
                'requires': {'hasNot': ['Fire Extinguisher']},
                'message': 'By the elevators'
            },
            '10': {
                'message': 'Congratulations!  You have completed the quiz!'
            }
        },
        'Professor Bell On Fire': {
            '1' : {
                'checkInventory': [{'has': ['Fire Extinguisher'], 'goto': '2'}],
                'message': 'Help!!!! I\'M ON FIRE! GET AN EXTINGUISHER!',
                'replies': {}
            },
            '2': {
                'message': 'USE YOUR EXTINGUISHER!! HURRY!',
                'replies': {
                    'Extinguish': 3,
                    'Just ignore him': 4
                }
            },
            '3': {
                'triggers': ['extinguishProf']
            },
            '4': {
                'triggers': ['dontExtinguish']
            }
        }
    },
    '_triggers': {
        //Starts disabled so it can't be triggered unless the player is on the dolphin quest
        'dolphinFound' : {
            'events' : {
                'completeObjective' : ['dolphinHunt'],
                'addPoints' : [50]
            },
            'disabled' : true,
            'abortTriggers' : ['dolphinHint']
        },
        //Triggered if the player is having trouble finding the dolphin. Note that because it is
        //aborted by dolphinFound, this only appears if the player takes too long to find the dolphin
        //You can override existing objectives with modified display text simply by reusing the
        //objective name.
        'dolphinHint' : {
            'events' : {
                'setObjective' : ['dolphinHunt', 'Find the dolphin! Hint: Look in a classroom.'],
            },
            'moveDelay' : 5,
        },
        'dontExtinguish': {
            'events': {
                'endGame': ['You lose', 'You failed to save the professor.  No one lives happily ever after.']
            },
            'moveDelay': 5,
            'lives': Infinity,
        },
        'extinguishProf': {
            'events' : {
                'replaceProp': ['prof-bell-on-fire', 'prof-bell']
            },
            'lives': Infinity,
            'abortTriggers': ['dontExtinguish']
        },
        //The player is tasked with finding the dolphin. TODO: Add a requirement that the player must face
        //a certain direction to complete a trigger (IE, they must look at the dolphin, not just be on its tile)
        //'dolphinHunt' is the internal name of the objective used for objective tracking.
        //'Find the dolphin!' is the quest presented to the user.
        'findTheDolphin' : {
            'events' : { 
                'setObjective' : ['dolphinHunt', 'Find the dolphin!'],
            },
            'enableTriggers' : ['dolphinFound'],
            'startTriggers' : ['dolphinHint']
        },
        'fireAppears': {
            'events': {
                'addToScene': ['fire1', 'fire2']
            }
        },
        /* Professor Bell gives 'Get to class' objective. Upon arrival at class, the lecture begins. */
        'getToClass': {
            'events': {
                'setObjective': ['getToClass', 'Get to class for the lecture']
            },
            'enableTriggers': ['gotToClass']
        },
        /* For now, the lecture ends by leaving the room */
        'gotToClass': {
            'events': {
                'completeObjective': ['getToClass'],
            },
            'disabled': true,
        },
        'lightProfOnFire': {
            'events': {
                'replaceProp': ['prof-bell', 'prof-bell-on-fire']
            },
            'lives': Infinity,
            'startTriggers': ['dontExtinguish']
        },
        //This sample objective is started when you hit the room where it is included.
        //'moveTutorial' is the internal name of the objective used for objective tracking.
        //'Move somewhere' is the quest presented to the user.
        'sampleObjective' : {
            'events' : {
                'setObjective' : ['moveTutorial', 'Move somewhere'],
                'attachEventsToPhone' : ['ringer-on', {'findTheDolphin' : {'func' : startTrigger, 'args' : ['findTheDolphin'] } } ],
                'addTextMessage' : ['Jerome Jackson', 'This is the first text message ever']
            },
            'startTriggers' : ['sampleObjectiveEnd']
        },
        //It starts sampleObjectiveEnd, which is triggered after the player moves. Completes 'moveTutorial' objective.
        //Player earns points, and starts a new objecive.
        'sampleObjectiveEnd' : {
            'events' : {
                'completeObjective' : ['moveTutorial'],
                'addPoints' : [10],
                'addTextMessage' : ['Jerome Jackson', 'This is the second text message']
            },
            'moveDelay' : 1
        },
        //The first objective.
        'See_Professor' : {
            'events' : {
                'setObjective' : ['talkToProfessor', 'Go talk to Professor Bell in room 120']
            }
        },
        'skipToTheQuiz': {
            'events': {
                'showModal': ['The quiz', 'Name: _________']
            }
        },
        'takeFireExtinguisher': {
            'events': {
                'takeFromScene' : [ {'name': 'Fire Extinguisher', 'image': 'fire-extinguisher.png', 'width':32, 'height':32 },
                                    'Fire-Extinguisher' ]
            }
        },
        'useFireExtinguisher': {
            'events': {
                //'addToScene': ['Fire-Extinguisher'],
                'removeFromScene': ['fire1']
            }
        },
        'useFireExtinguisher2': {
            'events': {
                //'addToScene': ['Fire-Extinguisher'],
                'removeFromScene': ['fire2']
            }
        }
    },
    'inactiveProps': ['fire1', 'fire2', 'prof-bell-on-fire'],
    '_player': {
        'x': 2,
        'y': 0,
        'z': 0,
        '_facing': 'n',
        'inventory': []
    }
}
